<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Babel RequireJs Test</title>
</head>
<body>

  <h1>Observing Tests</h1>

  <h2>Hello! <span data-bind="first" data-to="text"></span> <span data-bind="last" data-to="text"></span></h2>

  <p>
    <label>First: <input type="text" data-bind="first" data-to="prop" data-of="value"></label>
    <br>
    <label>Last: <input type="text" data-bind="last" data-to="prop" data-of="value"></label>
  </p>

  <h3>Computed: <span data-bind="full" data-to="text"></span></h3>

  <h3>Prop not yet existing: <span data-bind="unknown" data-to="text"></span></h3>
  
  <script src="../node_modules/babel-core/external-helpers.js"></script>
  <script src="../node_modules/babel-core/browser-polyfill.js"></script>
  <script src="../bower_components/loader.js/loader.js"></script>
  <!-- <script src="../bower_components/almond/almond.js"></script> -->

  <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
  <!-- load simple-html-tokenizer from relative path for now -->
  <script src="../../simple-html-tokenizer/dist/simple-html-tokenizer.js"></script>
  <script src="../dist/framework.js"></script>

  <script id="html-template" type="text/x-handlebars">
    <div id="container">
      <h3>Test heading</h3>
      some text
      <input type="text" placeholder="Placeholder Text">
      <p>A paragraph</p>
    </div>
  </script>

  <script id="mustache-template" type="text/x-handlebars">
    <h2>Hello there, "{{first}} {{last}}!"</h2>
    <form action="">
      <fieldset class="info {{showing}}">
        <input type="text" value={{first}} name="first">
        <br>
        <input type="text" value={{last}} name="last">
        <br />
        <input type="text" value="31" name="age">
      </fieldset>
    </form>
  </script>

  <script>
    var Person = require('person')['default'];
    var Controller = require('core/controller')['default'];

    var me = new Person('Harris', 'Miller');

    var metaSymbol = require('core/symbols').meta;
    // console.log(me[metaSymbol]);

    var controller = new Controller('body', me);

    var objectCompiler = require('templates/compilers/to-object')['default'];
    var templateCompiler = require('templates/compiler')['default'];

    var template = $('#mustache-template').get(0).innerHTML;

    var compiler = new templateCompiler(template, objectCompiler);

    compiler.compile();
  </script>
  
</body>
</html>
